what is scanning?
- the second phase of ethical hacking.
- it is the step which helps to test a system based on the information we gathered and also sometime they help us to gather more informations.
why do we do scanning?
- it helps to identify host's system detail
- operation system

network scanning
- networkn scan lemareg and getting more information.
false positive
  - there are many kinds of scanning methods and tools for different purpose.
- like virus saynor ale yemilen ...
- scan maregiya tools: 
for network mainly: NMAP, netdiscovery
for subdomain : sublist3r, subfinder, mamass
for website: nuclei , nessus , acunetix

NMAP (network mapper)
- starting from network portochn scan lemareg .... yiredal .
- NMAP --version
- use
- live system recovery : 

- Ping Sweep 
- this is a method of checking if host is up or down.
- it uses ICMP (internet control message protocol) packates for checking purpose.
ping sntekem 
echo request ena echo reply yitekemal 
it sends echo request and waits for response if there is echo reply 
ping lay 64 byte kehone linux new -> ttl-108
32 kehone windows new ->ttl=64
ping maregachin live mehonun bcha sayhon connectionum arif new ayelem yemilewn yinegrenal 
TTL (time to live)
- determines how long a packat should exist in the network before being discarded .
- decrementing TTL - each time the packet passes through a router (a hope) , the TTL value is ddecreased by 1.
- TTL Expiration if the TTL reaches 0 , the packet is discarded and an ICMP "time exceeded" message is sent back to the sender.
Nmap ping sweep 
nmap can perform ping sweep too
nmap -sn ip    -sn= no port scan
 - Nmap can scan the whole range.
 - we can do the ping sweep with little modification on the ip 
 - syntax
 - nmap -sn networkAddress-255
 - nmap -sn networkAddress/networBits(subnet mask)
 - CIDR notation 
 - network bits depend on the ip 
 - warning+=1
 - doing ping sweep is way of Active recon.
 - some organizations or system admins wil block any ICMP requests.
 - here the ping sweep wont work , and when you try this it says "host is down " but it is normally up . 
 - to make it work we just skip ping request and ask for additional things 
 - syntax 
 - nmap -Pn IP 
 - this method will jump host discovery because it will take the ip as Up and try to do port discoveries.
 - 

> [!NOTE]
> ### what is port

port is process - specific or application specific construct serving as a communication end point, 
it is like door for some purpose

there are around 65,536 ports with different job (like the window and the door)
1-1024 = reserved ( well known) ports.
kenezih wuchi yalutn enyam metekem enchilalen.
HTTP(80)- UNSECURED WEBPORT
HTTPS(443)-SECURED WEBPORT
FTP(21)- FILE TRANSFERING PORT
SSH(22) - SECURE SHELL PORT - and bota yalen computer terminal kelela bota hono metekem. 

port status
open port
close port
filtered port(it is confusing it looks like open as well as closed)

open port discovery 
open yehonu portochn band lay magnyet 
when we access websites there is web port open (80,443,8080 mostly )
- if we are getting some shell activity port 22 is open 
- we can use nmap to check which port is open /closed 
- nmap IP => only 1000 ports
- nmap -p port1.port2.port3 IP = > only port1,2,3 specific ip addresochn 
- nmap -p IP => scan the whole 65k ports

Red Team Perspective
   - port scan will be doen by sending tcp request 
   -  and the status is "ok " means open and error means closed

nc 
scanning methods 
- TCP connect  - tcp scan
- TCP - stealth scan 
- udp scan
- xmas scan
3way handshake
- mejemeriya connection create lemareg 
when you establish a TCP connections theer is something going behind the scenes.

SYN -synchronization
ACK- acknowledgment

after this new melalak yemijemerew 

SYN request yiteyikal if they reply SYN/ACK nmap will reply with ACK then the port is open else the port is closed

nmap -sT  ip  =>is  tcp scan


nmap example.com
ping google.com

question
1. how many ports are open on example.com
- nmap example.com 
 2. what is the largest known ( named ) service on scanme.nmap.org
 3. nmap scanme.nmap.org
 4. what is the IP address of google ?
 - ping google.com, nmap google.com
 5. what is the service name of port 1000 on google.com
- nmap -p 1000 google.com  
6. how much seconds took your youtube.com scan?
  - nmap youtube.com
  7. what os the largest filtered port on youtube.com
    - nmap -p- youtube.com
   8. what is the port number for service telnet on youtube.com
   9. how many ports are filtere (not shown) on your youtube scan
   
stealthy scan
they don't send ack they send udp
sP - stealth scan
sP ip 

UDP scan 
- this is a method to scan if any service /port is using UDP
 - portochn mikeftut servisoch or applicationoch nachew 
 - andandochu udpn yitekemalu means portu sikefet beudp new mikefetew so enya betcp heden syn binilik aysemanm
-sU

XMAS SCAN
- FIN, push ena urg instead of SYN.
- if there is response like RST flag then the system is closed if there is no answer port is open
- -sX

we can use them combinedly 
nmap -sU -sS0sV ip

operating system detection
 - nmap have a feature to detect the operating system of the host.
 - sudo nmap -o IP  => os detection only 
 - sudo nmap -A ip  => os detection including version

baner grabin
- versionochn magnyet 
- is a technique of exfiltrating version of some service .
- the banner refers to the text or metadata that a service or application sends back when you connect to it , which often contains detail about the software it's version and sometimes even the operating system
- nmap -sV --version0intensity 0 linux.b2
### scan Speeds
- when nmap do its scan it have a time waiting , after sending 1 packets to a host 
- there are 5 time waitings
- Insane - T5
- sends packets insanely faast and waits only 0.3 seconds for the response 
- may not have accuracy 
- nmap -T5 IP
- aggressive-t4(recommended)
- be 1.25 second yilical 
- nmap -T4 IP 
- fast 
- still 
- NMAP polite and sneaky 
- slowest timing 
- for risky project 
- helps not to be detected 
- and networkachewn lalemachenanek kefelegn 
- nmap -T2 ip 

Nmap Script Engine(NSE)
- vulnerablity yalebachewn portoch lemawek yiredal 
- nmap -sC IP
- nmap --script script name.nse IP
- nmap -p 22 --script ssh* IP 
some known script 
--script banner - for grabbing some detail
--script broadcast - reveals brodcast information
--script vuln - tests if the port is vulnerable

Nmap Out puts
- resultochun save endiyaregilin 
- using
- -oG|-oX|-oN
- oG= grep formats
- oX = for xml  format
- -oN normal saving format
Nmap verbose
- diplaying more informationor detail and logging them 
- -v little detail
- -vv - more detail
- -vvv - much more detail
Nmap Fire wall Evasion 
- Firewall Evasion techniques using Nmap is 
- fire walloch detect endayaregun yemnaregbachew mengedoch nachew 
- IDS : a security technology designed to monitor network traffic or system activities for signs of malicious behaviour , policy violations or other unauthorized acrivities
firewall evasion techniques
decoy scan 
- belela sew ip address scan mareg , obscure the origin of a scan , complicating the identification of the actual scanner . 
- nmap -D decoy 2, decoy2 , decoy3... {target IP}
- nmap -D RND:5 ... {target ip}=random ipwochn enditekem

2.fragment packets 
- evade detection by firewalls, intrusion detection system (ids) or intrusion prevention system(IPS) that rely on analyzing entire packets to detect malicious activity.
- it is sending packets in smaller fragments rather thatn as whole packets.
- yenyan ip yemileyew packetu bemulu silak new sikoraret ayakewm
- nmap -f -p 21 [target ip]
- 
MAC ADDRESS PROOFING
- mac addressachin lay mekeyer
- mac address static slehone besu block yaregunal 
- so fake yehone mac address yenya asmeslen scan mareg
- nmap -spoof -mac Apple/MAC_ADDRESS -Pmn IP 

Source Port Manipulation 
- portochn endale bemizegubet gize 
- source portachinin wede tefekedew port maderg enchilalen 
- nmap -g [port] -p 21 ip